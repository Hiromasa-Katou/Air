/*!
 * Van Ons Starter Theme
 * http://www.van-ons.nl/
 * @author Donny Oexman <donny@van-ons.nl> (http://www.van-ons.nl/)
 * @version 1.0.0
 * Copyright 2017 Donny Oexman.
 */

function neighbourhoodMap(){"use strict";var o,e=$("#googlemap").data("hood");o=new google.maps.Map(document.getElementById("googlemap"),{zoom:15,center:new google.maps.LatLng(52.247629,5.1)}),(new google.maps.Geocoder).geocode({address:e,componentRestrictions:{country:"NL"}},function(e,t){if(t===google.maps.GeocoderStatus.OK){o.setCenter(e[0].geometry.location);new google.maps.Marker({map:o,position:e[0].geometry.location,animation:google.maps.Animation.DROP,icon:window.location.protocol+"//"+window.location.hostname+"/wp-content/themes/mooijekindvleut/assets/images/marker-neighbourhood.svg"})}else console.log("Failed "+t)})}!function(i,l,a){"use strict";function e(e){for(;/(\d+)(\d{3})/.test(e.toString());)e=e.toString().replace(/(\d+)(\d{3})/,"$1.$2");return e}function t(e){var t=e.offset().top,o=t+e.outerHeight(),a=i(l).scrollTop(),s=a+i(l).height();return a<o&&t<s}function o(){i(".count").each(function(){t(i(this))&&(i(this).hasClass("counted")||i(this).prop("Counter",0).animate({Counter:i(this).data("value")},{duration:1e3,easing:"swing",step:function(){i(this).text(e(Math.floor(this.Counter)))},complete:function(){i(this).text(e(this.Counter))}}),i(this).addClass("counted"))}),i(".graph-bar").each(function(){t(i(this))&&i(this).addClass("graph-bar--show")}),i(".neigh__round").each(function(){t(i(this))&&i(this).addClass("neigh__round--show")})}var s=customData.ajaxURL,c=customData.ajaxSecurity,n="",r="",d="";i(function(){function o(){i.ajax({url:s,type:"POST",data:{action:"vo_employees",location:n,group:d},success:function(e){i(".employee__wrapper").html(e)},complete:function(){i(".select-people").removeClass("loading")}})}function t(){i.ajax({url:s,type:"POST",data:{action:"vo_searchprofiles",location:n},success:function(e){i(".search-profile__wrapper").html(e),Foundation.reInit("equalizer")},complete:function(){i(".select-city").removeClass("loading")}})}i(a).foundation(),i("[data-pie-id]").length&&Pizza.init(),i("#mmenu").mmenu({offCanvas:{position:"right"}},{offCanvas:{pageSelector:".container--page"}}),i("iframe[src*='youtube.com'], iframe[src*='vimeo.com'], video").each(function(){i(this).wrap('<div class="video-container"></div>'),i(this).parent(".video-container").addClass("active")}),"ontouchstart"in a.documentElement?i("body").addClass("is-touch"):i("body").addClass("no-touch"),o(),t(),i(l).scroll(function(){var e=i(l).scrollTop(),t=i(l).height();i(".object__down").length&&i(".hero__bar").offset().top<e&&i(".object__down").addClass("down");i(".quarterly-share").length&&(i(".faq__search-form").offset().top-t-100<e?i(".quarterly-share").removeClass("hide-share"):i(".quarterly-share").addClass("hide-share"))}),i(".section-team__select li").click(function(){var e=i(this).data("id");i(".section-team__select li.selected").removeClass("selected"),i(this).addClass("selected"),i(".section-team__item").css({display:"none"}),i('.section-team__item[data-id="'+e+'"]').css({display:"block"})}),i(".select-city").click(function(){var e=i(this).data("location");i(".select-city").removeClass("selected"),i(this).addClass("loading"),i(this).addClass("selected"),n=e,i(".reset-filter").addClass("show"),t()}),i(".select-people").click(function(){var e=i(this).data("type"),t=i(this).data("value");"location"===e&&(n=t,d=""),"group"===e&&(n="",d=t),i(".select-people").removeClass("selected"),i(this).addClass("loading"),i(this).addClass("selected"),i(".reset-filter").addClass("show"),o()}),i(".reset-filter").click(function(){i(this).removeClass("show"),i(".select-people.selected").removeClass("selected"),i(".select-city.selected").removeClass("selected"),d=n="",o(),t()}),i(a).on("click",".select-tab li",function(){var e=i(this).data("show");i(".select-tab li.selected").removeClass("selected"),i(this).addClass("selected"),i(".select-tab__tab").removeClass("select-tab__tab--show"),i('.select-tab__tab[data-show="'+e+'"]').addClass("select-tab__tab--show")}),i(a).on("click",".employee__toggle",function(){i(".place-detail").html(""),i(".employee__toggle.selected").removeClass("selected"),i(this).addClass("selected");var e=i(this).data("id"),t=i(this).data("placeid"),o=i('.employee__detail[data-id="'+e+'"]').clone();i('.place-detail[data-placeid="'+t+'"]').html(o),i(".place-detail .employee__detail").fadeIn(500,function(){var e=i('.place-detail[data-placeid="'+t+'"] .employee__detail').offset().top;i("html, body").stop().animate({scrollTop:e-50})})}),i(a).on("click",".employee__close",function(){i(".place-detail").html(""),i(".employee__toggle.selected").removeClass("selected")}),i(".show-full").click(function(){i(".excerpt").fadeOut(200,function(){i(".full").fadeIn(200)})}),i(".house-search__types label").addClass("active"),i(".house-search__types label input").click(function(){i(this).parent().toggleClass("active")})});var p=0,u=i(".object-popup__current"),h=i(".object-popup__slider .slider");i('a[data-open="object-popup"], a[data-open="floor-plan-popup"]').click(function(){p=i(this).data("number")}),i(".object-popup").on("open.zf.reveal",function(){h.slick({initialSlide:p})}),i(".object-popup").on("closed.zf.reveal",function(){h.slick("unslick")}),h.on("init reInit",function(e,t){var o=p+1;u.text(o+"/"+t.slideCount)}),h.on("afterChange",function(e,t,o){var a=(o||0)+1;u.text(a+"/"+t.slideCount)}),i(".object__links--all").click(function(){i("#object-all-popup img").each(function(){var e=i(this).attr("data-src");""!==e&&void 0!==e&&i(this).attr("src",e)})}),i(".object__dropdown-toggle").click(function(){var e=i(this).data("id"),t=0;i(this).hasClass("open")?(i(this).removeClass("open"),i('.object__dropdown[data-id="'+e+'"] .object__dropdown-item').stop().css({opacity:"0"}),i('.object__dropdown[data-id="'+e+'"]').css({display:"none"})):(i(this).addClass("open"),i('.object__dropdown[data-id="'+e+'"]').css({display:"block"}),i('.object__dropdown[data-id="'+e+'"] .object__dropdown-item').each(function(){i(this).delay(t).animate({opacity:"1"},300),t+=100}))}),i(".toggle-filter").click(function(){console.log("xxxx"),i(".search-sidebar").toggle(),i(this).hide()}),i(".faq__select li").click(function(){var e=i(this).data("topic");i(".faq__select li").removeClass("selected"),i(this).addClass("selected"),i(".faq__item").hide(),i(".faq__item[data-topic="+e+"]").show()}),i(".faq__item .question").click(function(){i(this).parent().hasClass("open")?i(this).parent().removeClass("open"):(i(".faq__item").removeClass("open"),i(this).parent().addClass("open"))});var g,f=(g=0,function(e,t){clearTimeout(g),g=setTimeout(e,t)});i(".faq__search input").on("keyup",function(){3<=i(this).val().length?(r=encodeURIComponent(i(this).val()),f(function(){i.ajax({url:s,type:"POST",data:{action:"vo_search_faq",search:r},success:function(e){i(".faq__search .results").html(e).css({display:"block"})},complete:function(){i(".faq__search-input").removeClass("loading")}}),i(".faq__search-input").addClass("loading")},1e3)):i(".faq__search .results").css({display:"none"})});var m=l.location.hash.substr(1);""===m||m.includes("page")||i(".faq__item[id="+m+"] .question").length&&(i(".faq__item[id="+m+"] .question").click(),i("html, body").stop().animate({scrollTop:i(".faq__item[id="+m+"]").offset().top})),i('a[href^="#"]').on("click",function(e){e.preventDefault();var t=this.hash,o=i(t);o.length&&i("html, body").stop().animate({scrollTop:o.offset().top})}),AOS.init(),i(".contact-overlay__close").click(function(){i(".contact-overlay").fadeOut(300)}),i(a).on("click",".trigger-contact",function(){var e=i(this).data("email"),t=i(this).data("name"),o=i(this).data("class");i(".contact-overlay").fadeIn(300),i(".contact-overlay__contact .email").html('<a href="mailto: '+e+'"> '+e+"</a>"),i(".contact-overlay__contact .name").html(t),i(".send-to input").val(e),i("#gform_submit_button_5").addClass(o)});var _=i(".hero__carousel");_.length&&_.slick({infinite:!0,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,speed:800,fade:!0,cssEase:"linear",pauseOnFocus:"false",pauseOnHover:"false"});var v={query:customData.query,paged:1,totalPages:customData.totalPages,loadingPosts:!1,categories:[],searchQuery:"",$slider:i(".category-slider__container"),$postContainer:i("[data-post-container]"),$loadMore:i(".button--load-more"),curScrollTop:0,init:function(){this.events(),this.slider(),this.removeLoadMoreButton()},events:function(){i(".category-slider__item").on("click",function(){var e=i(this);e.hasClass("category-slider__item--active")?e.removeClass("category-slider__item--active"):e.addClass("category-slider__item--active"),v.categories=[],i(".category-slider__item--active").each(function(){v.categories.push(i(this).data("category-id"))}),v.paged=1,v.getPosts()}),v.$loadMore.on("click",function(){v.$loadMore.addClass("clicked loading"),v.getMorePosts()})},reInitEqualizer:function(){new l.Foundation.Equalizer(v.$postContainer)},removeLoadMoreButton:function(){v.paged>=v.totalPages||void 0===v.totalPages?v.$loadMore.hasClass("show")||v.$loadMore.hide():(v.$loadMore.show(),v.$loadMore.removeClass("loading"))},getPosts:function(t){t=void 0!==t&&t,v.loadingPosts=!0,v.curScrollTop=i(a).scrollTop(),v.searchQuery=void 0!==v.query.s?v.query.s:"",i.ajax({url:s,type:"POST",dataType:"JSON",data:{action:"vo_get_posts",security:c,query:v.query,paged:v.paged,categories:v.categories,searchQuery:v.searchQuery},success:function(e){i(".category-slider__result, .page-count, .nothing-found").remove(),t?v.$postContainer.append(e):v.$postContainer.html(e),v.reInitEqualizer(),v.loadingPosts=!1},complete:function(){i(".page-count").length&&(v.totalPages=i(".page-count").data("pages")),i(l).scrollTop(v.curScrollTop),v.removeLoadMoreButton(),v.loadingPosts=!1},error:function(){v.loadingPosts=!1}})},getMorePosts:function(){v.paged<v.totalPages&&(v.paged++,v.getPosts(!0))},slider:function(){v.$slider.slick({slidesToScroll:3,variableWidth:!0,nextArrow:'<div class="slick-arrow slick-next">Volgende</div>',prevArrow:'<div class="slick-arrow slick-prev">Vorige</div>',responsive:[{breakpoint:1170,settings:{slidesToShow:10,slidesToScroll:4}},{breakpoint:1024,settings:{slidesToShow:8,slidesToScroll:3}},{breakpoint:1e3,settings:{slidesToShow:7,slidesToScroll:3}},{breakpoint:840,settings:{slidesToShow:5,slidesToScroll:2}},{breakpoint:640,settings:{slidesToShow:4,slidesToScroll:2}},{breakpoint:540,settings:{slidesToShow:3,slidesToScroll:1}}]})}};if(v.init(),o(),i(l).on("resize scroll",function(){o()}),i("#googlemap").length){var y=a.createElement("script");y.type="text/javascript",y.src="//maps.googleapis.com/maps/api/js?key=AIzaSyAf-ETjfw5N7LsyFUnOrZFOBqr8h7oS2UM&callback=neighbourhoodMap&libraries=geometry,places",a.body.appendChild(y)}i(a).on("click",".toggle-chapter",function(){var e=parseInt(i(this).attr("data-chapter"));i('.quarterly-chapter[data-chapter="'+e+'"]').toggleClass("open"),i("#wrapper"+(e+1)).toggleClass("open"),i('.quarterly-chapter-start__title[data-chapter="'+e+'"]').toggleClass("closed")}),i(a).on("click",".toggle-top",function(){i("html, body").animate({scrollTop:i("html").offset().top},2e3,function(){var e=a.querySelectorAll(".open");console.log(e),[].forEach.call(e,function(e){e.classList.remove("open")});i(".toggle-chapter").attr("data-chapter");i(".toggle-chapter").removeClass("open").addClass("closed")})}),i(a).on("click",".quarterly-text-block__targets a",function(e){e.preventDefault();var t=i(this).attr("href").substr(1);i(".quarterly-sub-chapter").each(function(){i(this).is(":visible")&&i(this).removeClass("open")}),i('.quarterly-sub-chapter[data-sub-chapter-target="'+t+'"]').addClass("open")}),i(".chart-group-select").on("change",function(){var e=i(this).val(),t=i(this).data("group");i('.chart_block__group-item[data-group="'+t+'"]').removeClass("chart_block__group-item--active"),i('.chart_block__group-item[data-id="'+e+'"]').addClass("chart_block__group-item--active")})}(jQuery,window,document);
